package me.OnlineMetlesley.com.ObsidianToLava;

import net.md_5.bungee.api.ChatColor;
import org.bukkit.Material;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.Action;
import org.bukkit.event.player.PlayerInteractEvent;
import org.bukkit.inventory.ItemStack;
import org.bukkit.plugin.Plugin;

public class BucketFillEvent implements Listener {
   public Plugin instance;
   String deathmessage;

   public BucketFillEvent() {
      this.deathmessage = Main.instance.getConfig().getString("DeathMessage");
   }

   public void function() {
      Main plugin = (Main)Main.instance;
      plugin.getServer();
   }

   @EventHandler
   public void damage(PlayerInteractEvent event) {
      Player player = event.getPlayer();
      Action action = event.getAction();
      if (action == Action.RIGHT_CLICK_BLOCK && event.getClickedBlock().getType().equals(Material.OBSIDIAN) && event.getItem().getType().equals(Material.BUCKET)) {
         event.getClickedBlock().setType(Material.AIR);
         player.setItemInHand(new ItemStack(Material.LAVA_BUCKET));
         player.sendMessage(ChatColor.translateAlternateColorCodes('&', Main.instance.getConfig().getString("Message")));
      }

   }
}
